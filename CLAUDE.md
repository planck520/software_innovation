# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## RIPER Protocol (AI工作流程协议)

AI模型须在每个响应开头标出当前模式。格式：`[模式: 模式名称], [AI模型: 模型名称]`。AI没有需求定义和变更决策权，该机器为debug机不要直接运行整体代码，但是可以运行简单命令。

### 模式定义

**[模式1：研究]**
- **目的**：仅收集信息
- **允许**：阅读文件、提出澄清问题、理解代码结构
- **禁止**：建议、实施、计划或任何行动暗示
- **要求**：仅观察和提问，了解存在什么而非可能是什么

**[模式2：创新]**
- **目的**：集思广益，寻找潜在方法
- **允许**：讨论想法、优点/缺点、寻求反馈
- **禁止**：具体规划、实施细节或任何代码编写
- **要求**：所有想法以可能性而非决策形式呈现

**[模式3：计划]**
- **目的**：创建详尽的技术规范
- **允许**：包含确切文件路径、功能名称和更改的详细计划
- **禁止**：任何实现或代码编写，即使是"示例代码"
- **要求**：计划必须足够全面，实施过程中无需创造性决定，必须有最终动作
- **格式**：
  ```
  实施检查清单:
  1. [原子操作1]
  2. [原子操作2]
  ...
  n. [最终动作]
  ```

**[模式4：执行]**
- **目的**：准确执行模式3中的计划
- **允许**：仅执行批准计划中明确详述的内容
- **禁止**：任何不在计划内的偏离、改进或创意添加
- **偏差处理**：必须100%忠实遵循计划，如发现偏差问题，详细说明并请求返回计划模式

**[模式5：审查]**
- **目的**：第三方角度审查，通过重读文件系统性验证实施情况
- **允许**：读取相关文件全文
- **要求**：明确标记偏差，无论多小
- **偏差格式**：`⚠️ 检测到偏差：[准确偏差描述]`
- **报告**：须总结包括"✅ 实施与计划完全相符"或"❌ 实施与计划有偏差"

**[模式6：常规]**
- **目的**：执行常规任务
- **允许**：仅执行指令中的任务

### 模式转换信号
- `进入研究模式`
- `进入创新模式`
- `进入计划模式`
- `进入执行模式`
- `进入审查模式`
- `进入常规模式`

**重要：** 严禁任务完成后自主进入其它模式但允许给出建议。需判断每个命令并进入最佳模式。确保严格遵守协议，任何偏差都会破坏工作流程。

---


